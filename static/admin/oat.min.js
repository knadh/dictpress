class OtBase extends HTMLElement{#t=!1;connectedCallback(){this.#t||(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.#e(),{once:!0}):this.#e())}#e(){this.#t||(this.#t=!0,this.init())}init(){}disconnectedCallback(){this.cleanup()}cleanup(){}handleEvent(t){const n=this[`on${t.type}`];n&&n.call(this,t)}emit(t,n=null){return this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:n}))}getBool(t){return this.hasAttribute(t)}setBool(t,n){n?this.setAttribute(t,""):this.removeAttribute(t)}$(t){return this.querySelector(t)}$$(t){return Array.from(this.querySelectorAll(t))}uid(){return Math.random().toString(36).slice(2,10)}}typeof window<"u"&&(window.OtBase=OtBase),"commandForElement"in HTMLButtonElement.prototype||document.addEventListener("click",e=>{const t=e.target.closest("[commandfor]");if(!t)return;const n=document.getElementById(t.getAttribute("commandfor"));if(!n)return;const i=t.getAttribute("command")||"toggle";n instanceof HTMLDialogElement&&(i==="show-modal"?n.showModal():i==="close"||n.open?n.close():n.showModal())});class OtTabs extends OtBase{#t=[];#e=[];init(){const t=this.$(':scope > [role="tablist"]');if(this.#t=t?[...t.querySelectorAll('[role="tab"]')]:[],this.#e=this.$$(':scope > [role="tabpanel"]'),this.#t.length===0||this.#e.length===0){console.warn("ot-tabs: Missing tab or tabpanel elements");return}this.#t.forEach((i,o)=>{const s=this.#e[o];if(!s)return;const a=i.id||`ot-tab-${this.uid()}`,r=s.id||`ot-panel-${this.uid()}`;i.id=a,s.id=r,i.setAttribute("aria-controls",r),s.setAttribute("aria-labelledby",a),i.addEventListener("click",this),i.addEventListener("keydown",this)});const n=this.#t.findIndex(i=>i.ariaSelected==="true");this.#n(n>=0?n:0)}onclick(t){const n=this.#t.indexOf(t.target.closest('[role="tab"]'));n>=0&&this.#n(n)}onkeydown(t){const{key:n}=t,i=this.activeIndex;let o=i;switch(n){case"ArrowLeft":t.preventDefault(),o=i-1,o<0&&(o=this.#t.length-1);break;case"ArrowRight":t.preventDefault(),o=(i+1)%this.#t.length;break;default:return}this.#n(o),this.#t[o].focus()}#n(t){this.#t.forEach((n,i)=>{const o=i===t;n.ariaSelected=String(o),n.tabIndex=o?0:-1}),this.#e.forEach((n,i)=>{n.hidden=i!==t}),this.emit("ot-tab-change",{index:t,tab:this.#t[t]})}get activeIndex(){return this.#t.findIndex(t=>t.ariaSelected==="true")}set activeIndex(t){t>=0&&t<this.#t.length&&this.#n(t)}}customElements.define("ot-tabs",OtTabs);class OtDropdown extends OtBase{#t;#e;#n;init(){this.#t=this.$("menu[popover]"),this.#e=this.$("[popovertarget]"),!(!this.#t||!this.#e)&&(this.#t.addEventListener("toggle",this),this.#t.addEventListener("keydown",this),this.#n=()=>{const t=this.#e.getBoundingClientRect();this.#t.style.top=`${t.bottom}px`,this.#t.style.left=`${t.left}px`})}ontoggle(t){t.newState==="open"?(this.#n(),window.addEventListener("scroll",this.#n,!0),this.$('[role="menuitem"]')?.focus(),this.#e.ariaExpanded="true"):(window.removeEventListener("scroll",this.#n,!0),this.#e.ariaExpanded="false",this.#e.focus())}onkeydown(t){if(!t.target.matches('[role="menuitem"]'))return;const n=this.$$('[role="menuitem"]'),i=n.indexOf(t.target);switch(t.key){case"ArrowDown":t.preventDefault(),n[(i+1)%n.length]?.focus();break;case"ArrowUp":t.preventDefault(),n[i-1<0?n.length-1:i-1]?.focus();break}}cleanup(){window.removeEventListener("scroll",this.#n,!0)}}customElements.define("ot-dropdown",OtDropdown);const ot=window.ot||(window.ot={}),containers={},DEFAULT_DURATION=4e3,DEFAULT_PLACEMENT="top-right";function getContainer(e){if(!containers[e]){const t=document.createElement("div");t.className="toast-container",t.setAttribute("popover","manual"),t.setAttribute("data-placement",e),document.body.appendChild(t),containers[e]=t}return containers[e]}function show(e,t={}){const{placement:n=DEFAULT_PLACEMENT,duration:i=DEFAULT_DURATION}=t,o=getContainer(n);e.classList.add("toast");let s;return e.onmouseenter=()=>clearTimeout(s),e.onmouseleave=()=>{i>0&&(s=setTimeout(()=>removeToast(e,o),i))},e.setAttribute("data-entering",""),o.appendChild(e),o.showPopover(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.removeAttribute("data-entering")})}),i>0&&(s=setTimeout(()=>removeToast(e,o),i)),e}ot.toast=function(e,t,n={}){typeof e=="object"&&e!==null&&(n=e,e="");const{variant:i="",...o}=n,s=document.createElement("output");s.className="toast",s.setAttribute("role","status"),i&&s.setAttribute("data-variant",i);const a=t||i[0].toUpperCase()+i.slice(1),r=document.createElement("h6");if(r.className="toast-title",i&&(r.style.color=`var(--${i})`),r.textContent=t||a,s.appendChild(r),e){const l=document.createElement("div");l.className="toast-message",l.textContent=e,s.appendChild(l)}return show(s,o)},ot.toastEl=function(e,t={}){let n;return e instanceof HTMLTemplateElement?n=e.content.firstElementChild.cloneNode(!0):typeof e=="string"?n=document.querySelector(e).cloneNode(!0):n=e.cloneNode(!0),n.removeAttribute("id"),show(n,t)};function removeToast(e,t){if(e.hasAttribute("data-exiting"))return;e.setAttribute("data-exiting","");let n=!1;const i=()=>{n||(n=!0,e.remove(),t.children.length||t.hidePopover())};e.addEventListener("transitionend",i,{once:!0}),setTimeout(i,200)}ot.toast.clear=function(e){e&&containers[e]?(containers[e].innerHTML="",containers[e].hidePopover()):Object.values(containers).forEach(t=>{t.innerHTML="",t.hidePopover()})},document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[title]").forEach(e=>{const t=e.getAttribute("title");t&&(e.setAttribute("data-tooltip",t),e.hasAttribute("aria-label")||e.setAttribute("aria-label",t),e.removeAttribute("title"))})}),document.addEventListener("click",e=>{const t=e.target.closest("[data-sidebar-toggle]");t&&t.closest("[data-sidebar-layout]")?.toggleAttribute("data-sidebar-open")});
